{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nconst startBtn = document.querySelector('[data-start]');\nconst input = document.querySelector('#datetime-picker');\nconst clockface = document.querySelectorAll('.js-time');\n\nstartBtn.disabled = true;\nlet userSelectedDate = null;\nlet timerId = null;\n\nflatpickr(input, {\n  altInput: true,\n  altFormat: 'F j, Y',\n  dateFormat: 'Y-m-d',\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n   const now = new Date();\n\n   if ( selectedDate <= now){\n    iziToast.show({\n    message: 'Please choose a date in the future',\n       target: '#datetime-picker',\n    backgroundColor: 'red',\n         messageColor: 'white',\n         target :'#picker-wrapper',\n          position: 'topLeft'\n})\n   }else{\n    startBtn.disabled= false;\n    userSelectedDate =selectedDate;\n   }\n  },});\n\n\n  startBtn.addEventListener(\"click\", handlerclick);\n\n  function handlerclick(){\n      startBtn.disabled = true;\n\n    timerId = setInterval(() => {\n  const now = new Date;\n  const timeLeft = userSelectedDate - now;\n\n  if(timeLeft <=0){\n    clearInterval(timerId);\n    updateTime({days:0, hours:0, minutes:0, seconds:0});\n    return;\n  }\n    const { days, hours, minutes, seconds } = convertMs(timeLeft);\n    updateTime({ days, hours, minutes, seconds });\n    }, 1000);\n  };\n\n  \n\n  function convertMs(ms) {\n \n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n\nfunction updateTime ({seconds, minutes, hours, days}){\n  const values = [String(days).padStart(2, '0'), String(hours).padStart(2, '0'), String(minutes).padStart(2, '0'), String(seconds).padStart(2,\"0\") ];\n  clockface.forEach((el, i) => {\n    el.textContent= values[i];\n  });\n}\n\n"],"names":["startBtn","input","clockface","userSelectedDate","timerId","flatpickr","selectedDates","selectedDate","iziToast","handlerclick","timeLeft","updateTime","days","hours","minutes","seconds","convertMs","ms","values","el","i"],"mappings":"0IAQA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAY,SAAS,iBAAiB,UAAU,EAEtDF,EAAS,SAAW,GACpB,IAAIG,EAAmB,KACnBC,EAAU,KAEdC,EAAUJ,EAAO,CACf,SAAU,GACV,UAAW,SACX,WAAY,QACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAGjB,QAAQK,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EAGhCC,GAFO,IAAI,KAGfC,EAAS,KAAK,CACd,QAAS,qCACN,OAAQ,mBACX,gBAAiB,MACZ,aAAc,QACd,OAAQ,kBACP,SAAU,SACpB,CAAC,GAEGR,EAAS,SAAU,GACnBG,EAAkBI,EAEnB,CAAA,CAAE,EAGHP,EAAS,iBAAiB,QAASS,CAAY,EAE/C,SAASA,GAAc,CACnBT,EAAS,SAAW,GAEtBI,EAAU,YAAY,IAAM,CAE9B,MAAMM,EAAWP,EADL,IAAI,KAGhB,GAAGO,GAAW,EAAE,CACd,cAAcN,CAAO,EACrBO,EAAW,CAAC,KAAK,EAAG,MAAM,EAAG,QAAQ,EAAG,QAAQ,CAAC,CAAC,EAClD,MACD,CACC,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAQ,EAC5DC,EAAW,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAAA,CAC3C,EAAE,GAAI,CAEX,CAGE,SAASC,EAAUC,EAAI,CAOvB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAC1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EACpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EACjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASJ,EAAY,CAAC,QAAAI,EAAS,QAAAD,EAAS,MAAAD,EAAO,KAAAD,CAAI,EAAE,CACnD,MAAMM,EAAS,CAAC,OAAON,CAAI,EAAE,SAAS,EAAG,GAAG,EAAG,OAAOC,CAAK,EAAE,SAAS,EAAG,GAAG,EAAG,OAAOC,CAAO,EAAE,SAAS,EAAG,GAAG,EAAG,OAAOC,CAAO,EAAE,SAAS,EAAE,GAAG,CAAC,EAChJb,EAAU,QAAQ,CAACiB,EAAIC,IAAM,CAC3BD,EAAG,YAAaD,EAAOE,CAAC,CAC5B,CAAG,CACH"}